{% extends 'base.html.twig' %}

{% block body %}

    <h2>Résultats de recherche</h2>
    {% if films is defined and films|length > 0 %}
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="trending__product">
                        <div class="row">
                            <div class="col-lg-8 col-md-8 col-sm-8">
                                <div class="section-title">
                                    <h4>Résultats de recherche</h4>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4">
                                <div class="btn__all">
                                    <!-- Adjust the href if needed -->
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            {% for film in films %}
                                <div class="col-lg-4 col-md-6 col-sm-6">
                                    <div class="product__item">
                                        <a href="{{ path('app_film_detail', {'id': film.id}) }}">
                                            <div class="product__item__pic set-bg" data-setbg="{{ asset('assets/img/' ~ film.images.0.getPhoto()) }}">
                                                <!-- Additional elements can be added here -->
                                            </div>
                                        </a>
                                        <div class="product__item__text">
                                            <ul>
                                                {% for genre in film.genres %}
                                                    <li>{{ genre.name }}</li> <!-- Adjust if the genre structure is different -->
                                                {% endfor %}
                                            </ul>
                                            <h5><a href="{{ path('app_film_detail', {'id': film.id}) }}">{{ film.name }}</a></h5>
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

{% endblock %}
